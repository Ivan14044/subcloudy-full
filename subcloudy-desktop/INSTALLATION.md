# üì¶ Installation Guide - SubCloudy Desktop

## –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (End Users)

### Windows

1. **–°–∫–∞—á–∞–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç: https://subcloudy.com/desktop
   - –°–∫–∞—á–∞–π—Ç–µ `SubCloudy-Setup-{version}.exe`

2. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞**
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–π —Ñ–∞–π–ª
   - –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∞
   - –í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏

3. **–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫**
   - –ù–∞–π–¥–∏—Ç–µ —è—Ä–ª—ã–∫ "SubCloudy" –Ω–∞ —Ä–∞–±–æ—á–µ–º —Å—Ç–æ–ª–µ
   - –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∏–∑ –º–µ–Ω—é –ü—É—Å–∫
   - –í–æ–π–¥–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—è —Å–≤–æ–∏ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å subcloudy.com

### macOS

1. **–°–∫–∞—á–∞–π—Ç–µ DMG —Ñ–∞–π–ª**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç: https://subcloudy.com/desktop
   - –°–∫–∞—á–∞–π—Ç–µ `SubCloudy-{version}.dmg`

2. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞**
   - –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–π DMG —Ñ–∞–π–ª
   - –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ SubCloudy –≤ –ø–∞–ø–∫—É Applications
   - –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

3. **–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫**
   - –û—Ç–∫—Ä–æ–π—Ç–µ Applications
   - –ù–∞–π–¥–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ SubCloudy
   - –ü—Ä–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–∏ "App –æ—Ç –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞":
     * –û—Ç–∫—Ä–æ–π—Ç–µ –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
     * –ù–∞–∂–º–∏—Ç–µ "–û—Ç–∫—Ä—ã—Ç—å –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ"
   - –í–æ–π–¥–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—è —Å–≤–æ–∏ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### Linux (Ubuntu/Debian)

**–ú–µ—Ç–æ–¥ 1: DEB –ø–∞–∫–µ—Ç**

```bash
# –°–∫–∞—á–∞–π—Ç–µ .deb —Ñ–∞–π–ª
wget https://subcloudy.com/downloads/SubCloudy-{version}.deb

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ
sudo dpkg -i SubCloudy-{version}.deb

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
sudo apt-get install -f

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ
subcloudy
```

**–ú–µ—Ç–æ–¥ 2: AppImage**

```bash
# –°–∫–∞—á–∞–π—Ç–µ AppImage
wget https://subcloudy.com/downloads/SubCloudy-{version}.AppImage

# –°–¥–µ–ª–∞–π—Ç–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x SubCloudy-{version}.AppImage

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ
./SubCloudy-{version}.AppImage
```

---

## –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ (Developers)

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Node.js**: v18.0.0 –∏–ª–∏ –≤—ã—à–µ
- **npm**: v9.0.0 –∏–ª–∏ –≤—ã—à–µ
- **Git**
- **Backend API**: Laravel –ø—Ä–æ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
git clone https://github.com/subcloudy/subcloudy-desktop.git
cd subcloudy-desktop
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

–≠—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç:
- Electron
- Vue 3
- Pinia
- TypeScript
- Vite
- electron-builder
- –ò –¥—Ä—É–≥–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```bash
cp .env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env`:

```env
# URL –≤–∞—à–µ–≥–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ backend API
API_URL=http://127.0.0.1:8000/api

NODE_ENV=development
```

### 4. –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
npm run dev
```

–≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç:
- Vite dev server –Ω–∞ –ø–æ—Ä—Ç—É 5175
- Electron –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å hot-reload

### 5. –†–∞–±–æ—Ç–∞ —Å Backend

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Laravel backend –∑–∞–ø—É—â–µ–Ω:

```bash
cd ../ai-bot-main
php artisan serve
```

Backend –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://127.0.0.1:8000`

### 6. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:**

```
src/
‚îú‚îÄ‚îÄ main/       # Electron Main Process (Node.js)
‚îú‚îÄ‚îÄ preload/    # Preload scripts (Bridge)
‚îî‚îÄ‚îÄ renderer/   # Vue.js UI (Browser)
```

**Hot Reload:**
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `renderer/` –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `main/` —Ç—Ä–µ–±—É—é—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ (Ctrl+C, npm run dev)

### 7. –°–±–æ—Ä–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–°–±–æ—Ä–∫–∞ –±–µ–∑ —É–ø–∞–∫–æ–≤–∫–∏:**

```bash
npm run build
```

**–°–±–æ—Ä–∫–∞ –∏ —É–ø–∞–∫–æ–≤–∫–∞:**

```bash
# –¢–µ–∫—É—â–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
npm run dist

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
npm run dist:win    # Windows
npm run dist:mac    # macOS  
npm run dist:linux  # Linux
```

–†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –≤ –ø–∞–ø–∫–µ `dist-electron/`

### 8. –û—Ç–ª–∞–¥–∫–∞

**Renderer Process (Vue.js):**

–†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤ `src/main/windows/mainWindow.ts`:

```typescript
mainWindow.webContents.openDevTools();
```

**Main Process:**

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `console.log()` - –≤—ã–≤–æ–¥ –±—É–¥–µ—Ç –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ

**VS Code Debug:**

–°–æ–∑–¥–∞–π—Ç–µ `.vscode/launch.json`:

```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "type": "node",
      "request": "launch",
      "name": "Electron Main",
      "runtimeExecutable": "${workspaceFolder}/node_modules/.bin/electron",
      "runtimeArgs": [".", "--remote-debugging-port=9223"],
      "preLaunchTask": "npm: build:main"
    }
  ]
}
```

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Backend (Laravel)

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ DesktopController

–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —É–∂–µ —Å–æ–∑–¥–∞–Ω –≤ `ai-bot-main/app/Http/Controllers/Api/DesktopController.php`

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–æ—É—Ç–æ–≤

–†–æ—É—Ç—ã —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `ai-bot-main/routes/api.php`:

```php
Route::middleware('auth:sanctum')->prefix('desktop')->group(function () {
    Route::post('/auth', [DesktopController::class, 'auth']);
    Route::post('/service-url', [DesktopController::class, 'getSecureServiceUrl']);
    Route::get('/my-services', [DesktopController::class, 'myServices']);
    Route::post('/log', [DesktopController::class, 'logActivity']);
});
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CORS

–í `ai-bot-main/config/cors.php` –¥–æ–±–∞–≤—å—Ç–µ:

```php
'paths' => ['api/*', 'sanctum/csrf-cookie', 'desktop/*'],

'allowed_origins' => [
    'http://localhost:5175',  // Vite dev server
    'file://*',               // Electron production
],
```

### 4. –ú–∏–≥—Ä–∞—Ü–∏–∏

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:

```bash
php artisan migrate
```

### 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ endpoints

```bash
# Login
curl -X POST http://127.0.0.1:8000/api/login \
  -H "Content-Type: application/json" \
  -d '{"email":"user@example.com","password":"password"}'

# Get services (with token)
curl -X GET http://127.0.0.1:8000/api/desktop/my-services \
  -H "Authorization: Bearer YOUR_TOKEN"
```

---

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ (Distribution)

### Code Signing

**Windows (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç):**

```bash
export CSC_LINK=/path/to/certificate.pfx
export CSC_KEY_PASSWORD=your_password
npm run dist:win
```

**macOS (—Ç—Ä–µ–±—É–µ—Ç—Å—è Apple Developer ID):**

```bash
export APPLE_ID=your@email.com
export APPLE_ID_PASSWORD=app-specific-password
export APPLE_TEAM_ID=XXXXXXXXXX
npm run dist:mac
```

### –ü—É–±–ª–∏–∫–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

1. –°–æ–±–µ—Ä–∏—Ç–µ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
3. –û–±–Ω–æ–≤–∏—Ç–µ `latest.yml` / `latest-mac.yml`

---

## Troubleshooting

### Electron –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à
rm -rf node_modules dist
npm install
npm run dev
```

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω: `php artisan serve`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –≤ `.env`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall/antivirus

### –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ

```bash
# –û–±–Ω–æ–≤–∏—Ç–µ electron-builder
npm update electron-builder

# –û—á–∏—Å—Ç–∏—Ç–µ build –∫–µ—à
rm -rf dist-electron

# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ
npm run build
npm run dist
```

### –ò–∫–æ–Ω–∫–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ñ–∞–π–ª—ã –∏–∫–æ–Ω–æ–∫ —Å—É—â–µ—Å—Ç–≤—É—é—Ç:
- `resources/icons/icon.ico` (Windows)
- `resources/icons/icon.icns` (macOS)
- `resources/icons/icon.png` (Linux)

---

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- üìß Email: support@subcloudy.com
- üí¨ Telegram: @subcloudy_support
- üåê Website: https://subcloudy.com
- üìö Docs: https://docs.subcloudy.com


