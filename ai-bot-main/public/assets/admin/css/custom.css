.select2-selection {
  width: 100%;
  height: calc(2.25rem + 2px);
  padding: 0px;
  font-size: 1rem;
  font-weight: 400;
  line-height: 1.5;
  color: #495057;
  background-color: #fff;
  background-clip: padding-box !important;
  border: 1px solid #ced4da !important;
  border-radius: 0.25rem !important;
  box-shadow: inset 0 0 0 transparent;
  transition:
    border-color 0.15s ease-in-out,
    box-shadow 0.15s ease-in-out;
}

.select2-selection__choice {
  color: #444 !important;
}

.bg-light-primary {
    background-color: rgba(0, 123, 255, 0.25)!important;
}

/* Адаптивность для таблиц DataTables */
.table-responsive {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}

/* Стили для responsive таблиц DataTables */
table.dataTable.dtr-inline.collapsed > tbody > tr > td.child,
table.dataTable.dtr-inline.collapsed > tbody > tr > th.child,
table.dataTable.dtr-inline.collapsed > tbody > tr > td.dataTables_empty {
    cursor: default !important;
}

table.dataTable.dtr-inline.collapsed > tbody > tr[role="row"] > td:first-child:before,
table.dataTable.dtr-inline.collapsed > tbody > tr[role="row"] > th:first-child:before {
    top: 10px;
    left: 4px;
    height: 14px;
    width: 14px;
    display: block;
    position: absolute;
    color: white;
    border: 2px solid white;
    border-radius: 14px;
    box-shadow: 0 0 3px #444;
    box-sizing: content-box;
    text-align: center;
    text-indent: 0 !important;
    font-family: 'Courier New', Courier, monospace;
    line-height: 14px;
    content: '+';
    background-color: #31b131;
}

table.dataTable.dtr-inline.collapsed > tbody > tr.parent > td:first-child:before,
table.dataTable.dtr-inline.collapsed > tbody > tr.parent > th:first-child:before {
    content: '-';
    background-color: #d33333;
}

/* Улучшение отображения на мобильных устройствах */
@media screen and (max-width: 767px) {
    .dataTables_wrapper .dataTables_length,
    .dataTables_wrapper .dataTables_filter {
        text-align: left;
        margin-bottom: 1rem;
    }
    
    .dataTables_wrapper .dataTables_length select,
    .dataTables_wrapper .dataTables_filter input {
        width: 100%;
        margin-top: 0.5rem;
    }
    
    .dataTables_wrapper .dataTables_info,
    .dataTables_wrapper .dataTables_paginate {
        text-align: center;
        margin-top: 1rem;
    }
    
    /* Компактное отображение таблицы */
    table.dataTable {
        font-size: 0.875rem;
    }
    
    table.dataTable thead th,
    table.dataTable tbody td {
        padding: 0.5rem;
    }
    
    /* Скрытие менее важных колонок на мобильных */
    .table-responsive table {
        min-width: 600px;
    }
}

/* Стили для горизонтальной прокрутки */
.dataTables_scrollHeadInner,
.dataTables_scrollBody {
    width: 100% !important;
}

.dataTables_scrollHeadInner table,
.dataTables_scrollBody table {
    width: 100% !important;
}

/* Улучшение видимости при прокрутке */
.dataTables_wrapper .dataTables_scroll {
    clear: both;
}

.dataTables_wrapper .dataTables_scrollBody {
    border-bottom: 1px solid #ddd;
}

/* Узкая колонка для пользователей в таблице service-accounts */
#service-accounts-table th:nth-child(5),
#service-accounts-table td:nth-child(5) {
    width: 100px;
    min-width: 100px;
    max-width: 120px;
    white-space: nowrap;
}

/* Подсветка строк с истекающими подписками */
#service-accounts-table tr.table-warning {
    background-color: #fff3cd !important;
}

#service-accounts-table tr.table-warning:hover {
    background-color: #ffeaa7 !important;
}

#service-accounts-table tr.table-danger {
    background-color: #f8d7da !important;
}

#service-accounts-table tr.table-danger:hover {
    background-color: #f5c6cb !important;
}

/* Исправление видимости выпадающих списков select */
select.form-control {
    position: relative;
    z-index: 1;
}

select.form-control:focus {
    z-index: 9999 !important;
    position: relative;
}

/* Убеждаемся, что родительские контейнеры не обрезают выпадающие списки */
.card-body,
.form-group,
.row,
.col-md-3,
.col-md-2 {
    overflow: visible !important;
    position: relative;
}

/* Стили для option элементов в select */
select.form-control option {
    background-color: #fff;
    color: #495057;
    padding: 8px 12px;
}

select.form-control option:hover,
select.form-control option:focus {
    background-color: #f8f9fa;
}

/* Улучшение видимости для выпадающих списков в формах фильтров */
form.mb-4 select.form-control {
    z-index: 10;
    position: relative;
}

form.mb-4 select.form-control:focus {
    z-index: 10000 !important;
    position: relative;
}

/* Убеждаемся, что выпадающий список не обрезается */
form.mb-4 {
    position: relative;
    z-index: 1;
}

form.mb-4 .form-group {
    position: relative;
    z-index: auto;
}

form.mb-4 .form-group:has(select:focus) {
    z-index: 10001 !important;
    position: relative;
}

/* Альтернативный способ для браузеров без поддержки :has() */
form.mb-4 select.form-control:focus {
    z-index: 10000 !important;
    position: relative;
}

/* Улучшение видимости option элементов */
select.form-control option {
    display: block;
    padding: 8px 12px;
    background-color: #fff;
    color: #495057;
    white-space: nowrap;
}

select.form-control option:hover,
select.form-control option:checked {
    background-color: #007bff;
    color: #fff;
}
