import{d as e,E as a,u as s,r as t,c,o as r,w as l,J as i,l as n,m as o,n as u,v,q as d,f as p,A as _,C as m,x as b,t as y,H as g,F as h}from"./vendor-vue-hI7Tl2YZ.js";import{b as k,c as x,d as f,u as w,e as C,f as $,_ as j}from"./index-CY44GJdZ.js";import{u as S}from"./vendor-i18n-DgmEITMB.js";import"./vendor-ui-C1W_zwwL.js";const T={class:"max-w-7xl mx-auto px-4 py-16 sm:px-6 lg:px-8 position-relative z-1"},N={class:"fixed inset-0 pointer-events-none overflow-hidden"},L={class:"relative"},B={class:"max-w-7xl mx-auto mb-5 flex items-center justify-between"},D={class:"max-w-7xl mx-auto"},H={key:0,class:"grid grid-cols-1 gap-8 items-start lg:grid-cols-12"},I={class:"lg:col-span-5 xl:col-span-4"},M={key:0,class:"service-card__badge"},q={class:"service-card__logo"},z=["srcset"],F=["src","alt"],U={class:"service-card__title"},A={class:"service-card__name"},P={class:"service-card__subtitle"},E={class:"service-card__price"},J={class:"service-card__amount"},O={class:"service-card__currency"},G={class:"service-card__actions"},K=["aria-pressed"],Q={key:0,class:"service-card__btn-content"},R={key:1},V={class:"lg:col-span-7 xl:col-span-8"},W={class:"service-description"},X={class:"service-description__heading"},Y=["innerHTML"],Z=j(e({__name:"ServicePage",setup(e){const{locale:j}=S(),Z=a(),ee=s(),{isDark:ae}=k(),se=x(),te=f(),ce=w(),re=C(),le=t(null),ie=t([]),{webPSupported:ne,getOptimizedUrl:oe}=$(),ue=c(()=>le.value?oe(le.value.logo):""),ve=c(()=>!!ce.user),de=t("check"),pe=t(!1),_e=c(()=>{var e;const a=null==(e=le.value)?void 0:e.available_accounts;if(null==a)return!1;const s="number"==typeof a?a:Number(a);return!Number.isNaN(s)&&s<=0}),me=c(()=>{var e;const a=le.value;return!!a&&(!_e.value&&(!ie.value.includes(a.id)&&a.trial_amount&&(!ve.value||!(null==(e=ce.user.active_services)?void 0:e.includes(a.id)))&&"trial"!==te.subscriptionTypes[a.id]))}),be=(e,a)=>{var s,t;return(null==(s=e.translations[j.value])?void 0:s[a])??(null==(t=e.translations.en)?void 0:t[a])??null},ye=()=>{ve.value?ee.push("/checkout"):ee.push({path:"/login",query:{redirect:"checkout"}})};return r(async()=>{const e=Number(Z.params.id);if(re.isLoaded||await re.fetchData(),se.isLoaded||await se.fetchData(),le.value=se.getById(e)||se.getById(Number(e)),!le.value)return void(await ee.replace("/404"));const a=le.value;a&&(pe.value=te.hasService(a.id),pe.value&&(de.value="checkout"))}),l(()=>te.services,()=>{var e;const a=null==(e=le.value)?void 0:e.id;pe.value=!!a&&te.hasService(a)},{deep:!0}),(e,a)=>{var s,t;const c=i("router-link");return o(),n("div",T,[u("div",{class:v(["min-h-screen transition-colors duration-300 mt-3",d(ae)?"text-gray-100":"text-gray-900"])},[u("div",N,[u("div",{class:v(["animated-gradient absolute w-[120vw] h-[120vh]",d(ae)?"opacity-60 blur-[80px]":"opacity-40 blur-[70px]"])},null,2)]),u("div",L,[u("main",null,[u("div",B,[p(c,{to:"/",class:"flex items-center gap-2 text-dark dark:text-white hover:text-gray-400 transition-colors glass-button px-4 py-2 rounded-full"},{default:_(()=>[a[5]||(a[5]=u("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)),m(" "+b(e.$t("services.page.back")),1)]),_:1,__:[5]})]),u("div",D,[le.value?(o(),n("div",H,[u("section",I,[u("div",{class:v(["service-card",{"service-card--coming-soon":_e.value}])},[_e.value?(o(),n("span",M,b(e.$t("services.card.coming_soon")),1)):y("",!0),u("div",q,[u("picture",null,[d(ne)?(o(),n("source",{key:0,srcset:ue.value,type:"image/webp"},null,8,z)):y("",!0),u("img",{src:le.value.logo,alt:`${be(le.value,"name")} Logo`,width:"140",height:"140",loading:"lazy",class:"service-card__logo-img",style:{"aspect-ratio":"1 / 1"}},null,8,F)])]),u("div",U,[u("h2",A,b(be(le.value,"name")||le.value.name),1),u("p",P,b(be(le.value,"subtitle")),1)]),u("div",E,[u("span",J,b(le.value.amount.toFixed(2)),1),u("span",O,b(((null==(s=d(re).options)?void 0:s.currency)||"USD").toUpperCase()),1)]),u("div",G,[_e.value?(o(),n("button",{key:0,class:"service-card__btn service-card__btn--disabled",type:"button","aria-disabled":"true",onClick:a[0]||(a[0]=g(()=>{},["stop"]))},b(e.$t("services.card.coming_soon")),1)):(o(),n(h,{key:1},[ve.value&&(null==(t=d(ce).user.active_services)?void 0:t.includes(le.value.id))?(o(),n("button",{key:0,class:"service-card__btn service-card__btn--success",type:"button",onClick:a[1]||(a[1]=e=>(async()=>{const e=le.value;e&&ee.push({path:"/download-app",query:{serviceId:e.id}})})())},b(e.$t("plans.open")),1)):ie.value.includes(le.value.id)?y("",!0):(o(),n("button",{key:1,class:v(["service-card__btn",[pe.value?"service-card__btn--success":"service-card__btn--primary"]]),"aria-pressed":pe.value,"aria-label":"Add service",type:"button",onClick:a[2]||(a[2]=g(e=>(()=>{const e=le.value;e&&(te.hasService(e.id)?ye():(pe.value=!0,de.value="check",setTimeout(()=>{de.value="checkout"},1e3),te.addToCart(e,"premium")))})(),["stop"]))},[pe.value?(o(),n("span",R,["check"===de.value?(o(),n(h,{key:0},[m("âœ“")],64)):(o(),n(h,{key:1},[m(b(e.$t("plans.go_to_checkout")),1)],64))])):(o(),n("span",Q,[m(b(e.$t("plans.add_to_cart"))+" ",1),a[6]||(a[6]=u("svg",{class:"service-card__btn-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1))]))],10,K)),me.value?(o(),n("button",{key:2,class:"service-card__btn service-card__btn--outline",type:"button",onClick:a[3]||(a[3]=e=>(()=>{const e=le.value;if(!e)return;const a=e.id;te.hasService(a)&&"premium"===te.subscriptionTypes[a]&&te.removeFromCart(a),ie.value.includes(a)||ie.value.push(a),pe.value=!0,te.addToCart(e,"trial")})())},b(e.$t("plans.get_trial")),1)):y("",!0),ie.value.includes(le.value.id)?(o(),n("button",{key:3,class:"service-card__btn service-card__btn--success",type:"button",onClick:a[4]||(a[4]=e=>ye())},b(e.$t("plans.go_to_checkout")),1)):y("",!0)],64))])],2)]),u("section",V,[u("div",W,[u("h1",X,b(be(le.value,"name")),1),u("div",{class:"service-description__body service-content",innerHTML:be(le.value,"full_description")},null,8,Y)])])])):y("",!0)])])])],2)])}}}),[["__scopeId","data-v-656076a2"]]);export{Z as default};
