import{d as e,u as t,r as s,E as a,J as r,l,m as o,n,f as i,A as u,q as d,x as c,H as p,t as m,W as v,X as x,C as f}from"./vendor-vue-hI7Tl2YZ.js";import{L as g}from"./LanguageSelect-CVdHfu86.js";import{u as y,l as w,_ as b}from"./index-CY44GJdZ.js";import"./vendor-ui-C1W_zwwL.js";import"./vendor-i18n-DgmEITMB.js";const h={class:"min-h-screen py-3 w-full bg-[#fafafa] dark:bg-gray-900 flex items-center justify-center"},k={class:"max-w-sm w-full lg:w-1/2 flex items-center justify-center p-8 bg-white dark:!bg-gray-800 rounded-[12px] shadow-lg relative"},_={class:"w-full"},j={class:"flex items-center justify-end absolute top-3 right-3"},$={class:"flex items-center justify-center mb-6 -mt-2 w-full"},P=["src"],S={class:"text-2xl text-gray-900 dark:text-white mb-2 text-center font-medium"},q={class:"text-gray-500 dark:text-gray-300 mb-6 text-center"},C={class:"space-y-2"},L={class:"relative"},A=["placeholder"],F={key:0,class:"text-red-500 text-sm"},U={class:"space-y-2"},V={class:"relative"},B=["placeholder"],E={key:0,class:"text-red-500 text-sm"},H={key:1,class:"text-red-500 text-sm"},I={class:"flex items-center justify-between gap-3"},J={type:"submit",class:"auth-button primary"},R={key:1,class:"text-center"},T={class:"text-center text-sm text-green-600 bg-green-100 border border-green-300 p-4 rounded my-5"},W={class:"text-center text-sm text-gray-500 mt-3"},X=b(e({__name:"ResetPasswordPage",props:{token:{type:String,required:!0}},setup(e){const b=e,X=t(),z=y(),D=s(""),G=s(""),K=s({}),M=s(!1),N=s(!1),O=a(),Q=s(O.query.email||""),Y=async()=>{N.value=!0,K.value={};const e=await z.resetPassword({email:Q.value,password:D.value,password_confirmation:G.value,token:b.token});K.value=z.errors,e&&(M.value=!0),N.value=!1};return(e,t)=>{const s=r("router-link");return o(),l("div",h,[n("div",k,[n("div",_,[n("div",j,[i(g)]),n("div",$,[i(s,{to:"/",class:"flex items-center flex-col"},{default:u(()=>[n("img",{src:d(w),alt:"Loading...",class:"w-16 h-16 object-contain spin-slow-reverse mb-2"},null,8,P),t[3]||(t[3]=n("span",{class:"text-black dark:!text-white mt-1 text-sm font-semibold leading-none"}," SubCloudy ",-1))]),_:1,__:[3]})]),n("h1",S,c(e.$t("auth.resetPasswordTitle")),1),n("p",q,c(e.$t("auth.resetPasswordSubtitle")),1),M.value?(o(),l("div",R,[n("p",T,c(e.$t("auth.resetPasswordSuccess")),1),n("button",{class:"auth-button primary",onClick:t[2]||(t[2]=e=>d(X).push("/login"))},c(e.$t("auth.loginButton")),1)])):(o(),l("form",{key:0,class:"space-y-4",onSubmit:p(Y,["prevent"])},[n("div",C,[n("div",L,[v(n("input",{id:"password","onUpdate:modelValue":t[0]||(t[0]=e=>D.value=e),type:"password",class:"input-field dark:!border-gray-500 dark:text-gray-300",placeholder:e.$t("auth.password"),required:""},null,8,A),[[x,D.value]])]),K.value.password?(o(),l("p",F,c(K.value.password[0]),1)):m("",!0)]),n("div",U,[n("div",V,[v(n("input",{id:"password_confirmation","onUpdate:modelValue":t[1]||(t[1]=e=>G.value=e),type:"password",class:"input-field dark:!border-gray-500 dark:text-gray-300",placeholder:e.$t("auth.passwordConfirmation"),required:""},null,8,B),[[x,G.value]])]),K.value.password_confirmation?(o(),l("p",E,c(K.value.password_confirmation[0]),1)):m("",!0),K.value.message?(o(),l("p",H,c(K.value.message[0]),1)):m("",!0)]),n("div",I,[n("button",J,c(e.$t("auth.resetPasswordSubmit")),1)])],32)),n("p",W,[f(c(e.$t("auth.haveAccount"))+" ",1),i(s,{to:"/login",class:"text-[#0065FF] dark:text-blue-600 hover:!text-blue-500"},{default:u(()=>[f(c(e.$t("auth.loginLink")),1)]),_:1})])])])])}}}),[["__scopeId","data-v-497edfc1"]]);export{X as default};
