# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ API –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## –î–∞—Ç–∞: 24.12.2025

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

1. **–£—Å—Ç—Ä–∞–Ω–µ–Ω –¥–≤–æ–π–Ω–æ–π `/api/api/` –≤ support.ts** ‚úÖ
   - **–ü—Ä–æ–±–ª–µ–º–∞:** –í `support.ts` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –ø—É—Ç–∏ `/api/support/ticket`, –Ω–æ `axios.defaults.baseURL` —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ `/api`, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –¥–≤–æ–π–Ω–æ–º—É `/api/api/...`
   - **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –£–±—Ä–∞–ª `/api` –∏–∑ –≤—Å–µ—Ö –ø—É—Ç–µ–π –≤ `support.ts`:
     - `/api/support/ticket` ‚Üí `/support/ticket`
     - `/api/support/ticket/${id}/message` ‚Üí `/support/ticket/${id}/message`
     - `/api/support/ticket/${id}/messages` ‚Üí `/support/ticket/${id}/messages`
     - `/api/support/ticket/${id}/telegram-link` ‚Üí `/support/ticket/${id}/telegram-link`

2. **–£–ª—É—á—à–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API –≤ bootstrap.js** ‚úÖ
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –≤ dev –∏ production —Ä–µ–∂–∏–º–∞—Ö
   - –£–ª—É—á—à–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ —Ä–∞–±–æ—Ç–µ API –≤ —Ä–∞–∑–Ω—ã—Ö —Ä–µ–∂–∏–º–∞—Ö
   - –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å `/api`

### üìä –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç API:

**–í dev —Ä–µ–∂–∏–º–µ:**
- `axios.defaults.baseURL = '/api'`
- Vite proxy (–Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ `vite.config.js`) –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç `/api/*` –Ω–∞ `http://127.0.0.1:8000/api/*`

**–í production:**
- `axios.defaults.baseURL = '/api'`
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∏ –±—ç–∫–µ–Ω–¥ –Ω–∞ –æ–¥–Ω–æ–º –¥–æ–º–µ–Ω–µ (`subcloudy.com`)
- –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å `/api` —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Nginx
- Nginx –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è `/api/*` –Ω–∞ Laravel –±—ç–∫–µ–Ω–¥

### üîß –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

1. **Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å `/api/*` –Ω–∞ Laravel:
   ```nginx
   location /api {
       try_files $uri $uri/ /index.php?$query_string;
   }
   ```

2. **Laravel –±—ç–∫–µ–Ω–¥** - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω

### ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:

- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Ç–µ–ø–µ—Ä—å –∏–¥—É—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π API URL
- –î–≤–æ–π–Ω–æ–π `/api/api/` —É—Å—Ç—Ä–∞–Ω–µ–Ω
- –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å `/api`
- –í dev —Ä–µ–∂–∏–º–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Vite proxy

### üìù –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:

1. `ai-bot-front-main/src/stores/support.ts` - —É–±—Ä–∞–Ω `/api` –∏–∑ –ø—É—Ç–µ–π
2. `ai-bot-front-main/src/bootstrap.js` - —É–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### üöÄ –î–µ–ø–ª–æ–π:

- –ü—Ä–æ–µ–∫—Ç –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω
- –§–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

